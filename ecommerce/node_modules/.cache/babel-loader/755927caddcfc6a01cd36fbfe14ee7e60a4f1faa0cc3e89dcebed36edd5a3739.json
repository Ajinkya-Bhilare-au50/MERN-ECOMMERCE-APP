{"ast":null,"code":"import _toConsumableArray from\"C:/Users/ajink/Downloads/Shopping/MERN-ECOMMERCE-APP/ecommerce/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/ajink/Downloads/Shopping/MERN-ECOMMERCE-APP/ecommerce/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useNavigate,useParams}from\"react-router-dom\";import React,{useState,useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{Link}from\"react-router-dom\";import{Row,Col,Image,ListGroup,Card,Button,ListGroupItem,Form}from\"react-bootstrap\";import Rating from\"../components/Rating\";import{listProductDetails}from\"../actions/productActions\";// import products from \"../products\";\n// console.log(products)\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ProductScreen=function ProductScreen(_ref){var match=_ref.match;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),qty=_useState2[0],setQty=_useState2[1];var navigate=useNavigate();var dispatch=useDispatch();var _useParams=useParams(),id=_useParams.id;useEffect(function(){dispatch(listProductDetails(id));},[dispatch,id]);var addToCartHandler=function addToCartHandler(){navigate(\"/cart/\".concat(id,\"?qty=\").concat(qty));};var productDetails=useSelector(function(state){return state.productDetails;});var loading=productDetails.loading,product=productDetails.product;// console.log(loading, product);\nreturn/*#__PURE__*/_jsx(_Fragment,{children:loading===false?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{className:\"btn btn-dark my-3\",to:\"/\",children:\"Go Back\"}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsx(Image,{src:product.image,alt:product.name,fluid:true})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(\"h3\",{children:product.name})}),/*#__PURE__*/_jsx(ListGroupItem,{children:/*#__PURE__*/_jsx(Rating,{value:product.rating,text:\"\".concat(product.numReviews,\" reviews\")})}),/*#__PURE__*/_jsxs(ListGroupItem,{children:[\"Price:$\",product.price]}),/*#__PURE__*/_jsxs(ListGroupItem,{children:[\"Description:\",product.description]})]})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsx(ListGroupItem,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Price\"}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"$\",product.price]})})]})}),/*#__PURE__*/_jsx(ListGroupItem,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Status:\"}),/*#__PURE__*/_jsx(Col,{children:product.countInStock>0?\"In Stock\":\"Out of Stock\"})]})}),product.countInStock>0&&/*#__PURE__*/_jsx(ListGroupItem,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Qty\"}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Form.Control,{as:\"select\",value:qty,onChange:function onChange(e){return setQty(e.target.value);},children:_toConsumableArray(Array(product.countInStock).keys()).map(function(x){return/*#__PURE__*/_jsx(\"option\",{value:x+1,children:x+1},x+1);})})})]})}),/*#__PURE__*/_jsx(ListGroupItem,{children:/*#__PURE__*/_jsx(Button,{onClick:addToCartHandler,className:\"btn-block \",type:\"button\",disabled:product.countInStock===0,children:\"ADD To Cart\"})})]})})})]})]}):/*#__PURE__*/_jsx(\"p\",{children:\"Please wait....\"})});};export default ProductScreen;","map":{"version":3,"names":["useNavigate","useParams","React","useState","useEffect","useDispatch","useSelector","Link","Row","Col","Image","ListGroup","Card","Button","ListGroupItem","Form","Rating","listProductDetails","ProductScreen","match","qty","setQty","navigate","dispatch","id","addToCartHandler","productDetails","state","loading","product","image","name","rating","numReviews","price","description","countInStock","e","target","value","Array","keys","map","x"],"sources":["C:/Users/ajink/Downloads/Shopping/MERN-ECOMMERCE-APP/ecommerce/src/screens/ProductScreen.js"],"sourcesContent":["import { useNavigate, useParams } from \"react-router-dom\";\r\nimport React, { useState, useEffect } from \"react\";\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  Row,\r\n  Col,\r\n  Image,\r\n  ListGroup,\r\n  Card,\r\n  Button,\r\n  ListGroupItem,\r\n  Form,\r\n} from \"react-bootstrap\";\r\nimport Rating from \"../components/Rating\";\r\nimport { listProductDetails } from \"../actions/productActions\";\r\n\r\n// import products from \"../products\";\r\n// console.log(products)\r\nconst ProductScreen = ({ match }) => {\r\n  const [qty, setQty] = useState(1);\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n  \r\n  const { id } = useParams();\r\n\r\n \r\n  useEffect(() => {\r\n    dispatch(listProductDetails(id));\r\n   \r\n  }, [dispatch, id]);\r\n  \r\n  const addToCartHandler = () => {\r\n    navigate(`/cart/${id}?qty=${qty}`);\r\n  }\r\n\r\n  const productDetails = useSelector((state) => state.productDetails);\r\n  const { loading, product } = productDetails;\r\n  // console.log(loading, product);\r\n  return (\r\n    <>\r\n      {loading === false ? (\r\n        <div>\r\n          <Link className=\"btn btn-dark my-3\" to=\"/\">\r\n            Go Back\r\n          </Link>\r\n\r\n          <Row>\r\n            <Col md={6}>\r\n              <Image src={product.image} alt={product.name} fluid></Image>\r\n            </Col>\r\n            <Col md={3}>\r\n              <ListGroup variant=\"flush\">\r\n                <ListGroup.Item>\r\n                  <h3>{product.name}</h3>\r\n                </ListGroup.Item>\r\n                <ListGroupItem>\r\n                  <Rating\r\n                    value={product.rating}\r\n                    text={`${product.numReviews} reviews`}\r\n                  />\r\n                </ListGroupItem>\r\n                <ListGroupItem>Price:${product.price}</ListGroupItem>\r\n                <ListGroupItem>Description:{product.description}</ListGroupItem>\r\n              </ListGroup>\r\n            </Col>\r\n            <Col md={3}>\r\n              <Card>\r\n                <ListGroup variant=\"flush\">\r\n                  <ListGroupItem>\r\n                    <Row>\r\n                      <Col>Price</Col>\r\n                      <Col>\r\n                        <strong>${product.price}</strong>\r\n                      </Col>\r\n                    </Row>\r\n                  </ListGroupItem>\r\n                  <ListGroupItem>\r\n                    <Row>\r\n                      <Col>Status:</Col>\r\n                      <Col>\r\n                        {product.countInStock > 0 ? `In Stock` : `Out of Stock`}\r\n                      </Col>\r\n                    </Row>\r\n                  </ListGroupItem>\r\n                  {product.countInStock > 0 && (\r\n                    <ListGroupItem>\r\n                      <Row>\r\n                        <Col>Qty</Col>\r\n                        <Col>\r\n                          <Form.Control\r\n                            as=\"select\"\r\n                            value={qty}\r\n                            onChange={(e) => setQty(e.target.value)}\r\n                          >\r\n                            {[...Array(product.countInStock).keys()].map(\r\n                              (x) => (\r\n                                <option key={x + 1} value={x + 1}>\r\n                                  {x + 1}\r\n                                </option>\r\n                              )\r\n                            )}\r\n                          </Form.Control>\r\n                        </Col>\r\n                      </Row>\r\n                    </ListGroupItem>\r\n                  )}\r\n                  <ListGroupItem>\r\n                    <Button\r\n                      onClick={addToCartHandler}\r\n                      className=\"btn-block \"\r\n                      type=\"button\"\r\n                      disabled={product.countInStock === 0}\r\n                    >\r\n                      ADD To Cart\r\n                    </Button>\r\n                  </ListGroupItem>\r\n                </ListGroup>\r\n              </Card>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n      ) : (\r\n        <p>Please wait....</p>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProductScreen;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}