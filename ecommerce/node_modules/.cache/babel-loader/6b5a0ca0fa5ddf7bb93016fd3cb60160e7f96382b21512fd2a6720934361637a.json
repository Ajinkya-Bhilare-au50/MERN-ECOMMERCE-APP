{"ast":null,"code":"import React,{useEffect}from\"react\";import{Link,useLocation,useParams,useSearchParams}from\"react-router-dom\";import{useDispatch,useSelector}from\"react-redux\";import{Row,Col,ListGroup,Image,Form,Button,card,ListGroupItem}from\"react-bootstrap\";import Message from\"../components/Message\";import{addToCart}from\"../actions/cartActions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CartScreen=function CartScreen(_ref){var match=_ref.match;var search=useLocation().search;var _useParams=useParams(),id=_useParams.id;var qty=new URLSearchParams(search).get(\"qty\");// console.log(\"qty\" + qty);\n// console.log(\"id\" + id);\n// const EMPTY_CART = { cartItems: [] };\n// console.log(useDispatch());\nvar dispatch=useDispatch();var cart=useSelector(function(state){return state.cart;});//   console.log(cart);\nvar cartItem=cart.cartItem;console.log(\"cartItem\"+cartItem);useEffect(function(){if(id){dispatch(addToCart(id,qty));}},[dispatch,id,qty]);// console.log(cartItem);\n// console.log(cartItem.length);\nvar removeFromCartHandler=function removeFromCartHandler(id){console.log(\"remove\");};return/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:8,children:/*#__PURE__*/_jsx(\"h1\",{children:\"Added to Shopping Cart\"})}),/*#__PURE__*/_jsx(Col,{md:2}),/*#__PURE__*/_jsx(Col,{md:2})]});};export default CartScreen;","map":{"version":3,"names":["React","useEffect","Link","useLocation","useParams","useSearchParams","useDispatch","useSelector","Row","Col","ListGroup","Image","Form","Button","card","ListGroupItem","Message","addToCart","CartScreen","match","search","id","qty","URLSearchParams","get","dispatch","cart","state","cartItem","console","log","removeFromCartHandler"],"sources":["C:/Users/ajink/Downloads/Shopping/MERN-ECOMMERCE-APP/ecommerce/src/screens/CartScreen.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport {\r\n  Link,\r\n  useLocation,\r\n  useParams,\r\n  useSearchParams,\r\n} from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  Row,\r\n  Col,\r\n  ListGroup,\r\n  Image,\r\n  Form,\r\n  Button,\r\n  card,\r\n  ListGroupItem,\r\n} from \"react-bootstrap\";\r\nimport Message from \"../components/Message\";\r\nimport { addToCart } from \"../actions/cartActions\";\r\nconst CartScreen = ({ match }) => {\r\n  const search = useLocation().search;\r\n  const { id } = useParams();\r\n\r\n  const qty = new URLSearchParams(search).get(\"qty\");\r\n\r\n  // console.log(\"qty\" + qty);\r\n  // console.log(\"id\" + id);\r\n  // const EMPTY_CART = { cartItems: [] };\r\n  // console.log(useDispatch());\r\n  const dispatch = useDispatch();\r\n  const cart = useSelector((state) => state.cart);\r\n//   console.log(cart);\r\n  const { cartItem } = cart;\r\n  console.log(\"cartItem\" + cartItem);\r\n\r\n  useEffect(() => {\r\n    if (id) {\r\n      dispatch(addToCart(id, qty));\r\n    }\r\n  }, [dispatch, id, qty]);\r\n    // console.log(cartItem);\r\n    // console.log(cartItem.length);\r\n    \r\n    const removeFromCartHandler = (id) => {\r\n     console.log(\"remove\")\r\n    };\r\n  return (\r\n    <Row>\r\n      <Col md={8}>\r\n        <h1>Added to Shopping Cart</h1>\r\n        {/* {cartItem.length === 0 ? (\r\n          <Message>\r\n            Your cart is empty <Link to=\"/\">Go Back</Link>\r\n          </Message>\r\n        ) : (\r\n          <ListGroup variant=\"flush\">\r\n            {cartItem.map((item) => (\r\n              <ListGroupItem key={item.product}>\r\n                <Row>\r\n                  <Col md={2}>\r\n                    <Image src={item.image} alt={item.name} fluid rounded />\r\n                  </Col>\r\n                  <Col md={3}>\r\n                    <Link to={`/product/${item.product}`}>{item.name}</Link>\r\n                  </Col>\r\n                  <Col md={2}>${item.price}</Col>\r\n                  <Col md={2}>\r\n                    <Form.Control\r\n                      as=\"select\"\r\n                      value={item.qty}\r\n                      onChange={(e) =>\r\n                        dispatch(\r\n                          addToCart(item.product, Number(e.target.value))\r\n                        )\r\n                      }\r\n                    >\r\n                      {[...Array(item.countInStock).keys()].map((x) => (\r\n                        <option key={x + 1} value={x + 1}>\r\n                          {x + 1}\r\n                        </option>\r\n                      ))}\r\n                    </Form.Control>\r\n                  </Col>\r\n                  <Col md={2}>\r\n                    <Button\r\n                      type=\"button\"\r\n                      variant=\"light\"\r\n                      onClick={() => removeFromCartHandler(item.product)}\r\n                    >\r\n                      <i className=\"fas fa-trash\"></i>\r\n                    </Button>\r\n                  </Col>\r\n                </Row>\r\n              </ListGroupItem>\r\n            ))}\r\n          </ListGroup>\r\n        )} */}\r\n      </Col>\r\n      <Col md={2}></Col>\r\n      <Col md={2}></Col>\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default CartScreen;\r\n"],"mappings":"AAAA,MAAOA,MAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OACEC,IAAI,CACJC,WAAW,CACXC,SAAS,CACTC,eAAe,KACV,kBAAkB,CACzB,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OACEC,GAAG,CACHC,GAAG,CACHC,SAAS,CACTC,KAAK,CACLC,IAAI,CACJC,MAAM,CACNC,IAAI,CACJC,aAAa,KACR,iBAAiB,CACxB,MAAOC,QAAO,KAAM,uBAAuB,CAC3C,OAASC,SAAS,KAAQ,wBAAwB,CAAC,wFACnD,GAAMC,WAAU,CAAG,QAAbA,WAAU,MAAkB,IAAZC,MAAK,MAALA,KAAK,CACzB,GAAMC,OAAM,CAAGjB,WAAW,EAAE,CAACiB,MAAM,CACnC,eAAehB,SAAS,EAAE,CAAlBiB,EAAE,YAAFA,EAAE,CAEV,GAAMC,IAAG,CAAG,GAAIC,gBAAe,CAACH,MAAM,CAAC,CAACI,GAAG,CAAC,KAAK,CAAC,CAElD;AACA;AACA;AACA;AACA,GAAMC,SAAQ,CAAGnB,WAAW,EAAE,CAC9B,GAAMoB,KAAI,CAAGnB,WAAW,CAAC,SAACoB,KAAK,QAAKA,MAAK,CAACD,IAAI,GAAC,CACjD;AACE,GAAQE,SAAQ,CAAKF,IAAI,CAAjBE,QAAQ,CAChBC,OAAO,CAACC,GAAG,CAAC,UAAU,CAAGF,QAAQ,CAAC,CAElC3B,SAAS,CAAC,UAAM,CACd,GAAIoB,EAAE,CAAE,CACNI,QAAQ,CAACR,SAAS,CAACI,EAAE,CAAEC,GAAG,CAAC,CAAC,CAC9B,CACF,CAAC,CAAE,CAACG,QAAQ,CAAEJ,EAAE,CAAEC,GAAG,CAAC,CAAC,CACrB;AACA;AAEA,GAAMS,sBAAqB,CAAG,QAAxBA,sBAAqB,CAAIV,EAAE,CAAK,CACrCQ,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC,CACtB,CAAC,CACH,mBACE,MAAC,GAAG,yBACF,KAAC,GAAG,EAAC,EAAE,CAAE,CAAE,uBACT,oBAAI,wBAAsB,EAAK,EAgD3B,cACN,KAAC,GAAG,EAAC,EAAE,CAAE,CAAE,EAAO,cAClB,KAAC,GAAG,EAAC,EAAE,CAAE,CAAE,EAAO,GACd,CAEV,CAAC,CAED,cAAeZ,WAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}